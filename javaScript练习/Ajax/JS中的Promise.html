<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JS中的Promise.html</title>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
</head>

<body>
    <script>
        //1.promise的基本语法
        const promise = new Promise(function(resolve,reject){
            //2.这里是用来执行异步任务的代码块
            // 异步任务执行成功调用resolve() 此时可以通过 .then 方法访问结果。
            //异步任务执行失败调用reject() 此时可以通过 .catch 方法处理错误。

            //下面来模拟一个异步任务
            setTimeout(()=>{
                reject(new Error('模拟Ajax出现问题了'))
            },1000)
        })
        //3.接收结果
        promise.then(result =>{
            //成功后获得数据
            console.log(result);
        }).catch(error =>{
            //处理失败
            console.log(error); //Error: 模拟Ajax出现问题了
        })

    </script>
</body>
</html>